{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAAMC,EAAW,+BACXC,EAAU,oCAEI,WAClB,IAAMC,EAAaC,SAASC,eAAe,cACrCC,EAAgBF,SAASC,eAAe,iBACxCE,EAAeH,SAASC,eAAe,gBACvCG,EAAkBJ,SAASC,eAAe,mB,SAKjCI,EAAsBC,G,OAAtBC,EAAqBC,MAAAC,KAAAC,U,UAArBH,I,OAAAA,EAAfI,EAAAhB,EAAA,CAAAgB,EAAAC,GAAAC,MAAA,SAAAC,EAAqCR,G,IAC7BS,EAGEC,EAMAC,E,yEATFF,EAAc,GAAqBG,OAAlBrB,EAAS,WAA4BqB,OAAnBZ,EAAQ,aAAmBY,OAARpB,G,kBAGnCqB,MAAMJ,G,WAAvBC,EAAQI,EAAAC,MAEAC,GAAE,C,eACd,MAAM,IAAIC,MAAM,qCAA6CL,OAARZ,I,uBAGpCU,EAASQ,O,cAAtBP,EAAIG,EAAAC,K,kBACHJ,G,QAEP,M,0BAAM,IAAIM,MAAM,8BAA4CL,OAAdE,EAAAK,GAAMC,U,2DAbpBlB,MAAAC,KAAAC,U,CAiBpC,SAASiB,IACPvB,EAAgBwB,MAAMC,QAAU,M,CAGlC,SAASC,IACP1B,EAAgBwB,MAAMC,QAAU,M,CAGlC,SAASE,EAAUC,GACjBF,IACA3B,EAAa8B,UAAY,GACzB9B,EAAa+B,YAAYF,GACzBjC,EAAW6B,MAAMC,QAAU,O,CAG7B,SAASM,IACPpC,EAAW6B,MAAMC,QAAU,M,UAiBdO,I,OAAAA,EAAfzB,EAAAhB,EAAA,CAAAgB,EAAAC,GAAAC,MAAA,SAAAC,EAAyBuB,G,IAMfC,EAGEhC,EAIIiC,EACAP,E,qEAbdK,EAAMG,iBAEwB,QAA1BH,EAAMI,OAAOC,SAAkB,C,mBACjCf,IAEMW,EAAkBD,EAAMI,OAAOE,GACrCC,QAAQC,IAAIP,IACRA,EAAe,C,qBACXhC,EAAUgC,GAEL,C,0CAEiBjC,EAAsBC,G,QAAxCiC,EAASnB,EAAAC,MACTW,EAAUhC,SAAS8C,cAAc,QAC/Bb,UAAY,2HAEsDf,OAA/BqB,EAAUQ,YAAY,WAGhC7B,OAHyCqB,EAAUS,MAAM,uIAIzB9B,OADhCqB,EAAUS,MAAM,sFAEa9B,OADGqB,EAAUU,KAAK,yFAEA/B,OADlBqB,EAAUW,WAAW,2GAE1BhC,OADuBqB,EAAUS,MAAM,oFAKzF9B,OAJkDqB,EAAUY,OAAO,+GAIhDjC,OAAnBqB,EAAUa,SAAS,gSAS1BrB,EAAUC,G,kDAEVY,QAAQS,MAAM,oCAAmCjC,EAAAK,I,yBAEjDK,I,6CAGFc,QAAQS,MAAM,0BACdvB,I,iEA7CgBtB,MAAAC,KAAAC,U,CAtDNV,SAASC,eAAe,WAEhCqD,iBAAiB,S,SAoDFjB,G,OAAVD,EAAS5B,MAAAC,KAAAC,U,IAdxBR,EAAcoD,iBAAiB,QAASnB,GAExCoB,OAAOD,iBAAiB,SAAS,SAAUjB,GACrCA,EAAMI,SAAW1C,GACnBoC,G,IAIJoB,OAAOD,iBAAiB,WAAW,SAAUjB,GACzB,WAAdA,EAAMmB,KACRrB,G,IAvDc,GAsHpBnC,SAASsD,iBAAiB,oBAAoB,WAAY,G","sources":["src/js/modal.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'df3d71dc2c14b1899746da6d2afcfb5b';\n\nconst modalModule = (function () {\n  const movieModal = document.getElementById('movieModal');\n  const closeModalBtn = document.getElementById('closeModalBtn');\n  const modalContent = document.getElementById('modalContent');\n  const loaderContainer = document.getElementById('loaderContainer');\n  const contentEl = document.getElementById('content');\n\n  contentEl.addEventListener('click', openModal);\n\n  async function fetchMovieDataFromAPI(movieId) {\n    const apiEndpoint = `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`;\n\n    try {\n      const response = await fetch(apiEndpoint);\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch movie data for ID ${movieId}`);\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      throw new Error(`Error fetching movie data: ${error.message}`);\n    }\n  }\n\n  function showLoader() {\n    loaderContainer.style.display = 'flex';\n  }\n\n  function hideLoader() {\n    loaderContainer.style.display = 'none';\n  }\n\n  function showModal(content) {\n    hideLoader();\n    modalContent.innerHTML = '';\n    modalContent.appendChild(content);\n    movieModal.style.display = 'block';\n  }\n\n  function hideModal() {\n    movieModal.style.display = 'none';\n  }\n\n  closeModalBtn.addEventListener('click', hideModal);\n\n  window.addEventListener('click', function (event) {\n    if (event.target === movieModal) {\n      hideModal();\n    }\n  });\n\n  window.addEventListener('keydown', function (event) {\n    if (event.key === 'Escape') {\n      hideModal();\n    }\n  });\n\n  async function openModal(event) {\n    event.preventDefault();\n\n    if (event.target.nodeName === 'IMG') {\n      showLoader();\n\n      const targetMovieLink = event.target.id;\n      console.log(targetMovieLink);\n      if (targetMovieLink) {\n        const movieId = targetMovieLink;\n\n        if (movieId) {\n          try {\n            const movieData = await fetchMovieDataFromAPI(movieId);\n            const content = document.createElement('div');\n            content.innerHTML = `<div class=\"modal-popup\">\n            <div class=\"movie-poster\">\n            <img src=\"https://image.tmdb.org/t/p/w500${movieData.poster_path}\" alt=\"${movieData.title}\" class=\"modal-poster\" />\n            </div>\n            <div class=\"movie-details\">\n              <h2 class=\"title main-title\">${movieData.title}</h2>\n              <p><span class=\"categ\">Vote / Votes </span><span class=\"val\">${movieData.vote}</span></p>\n              <p><span class=\"categ\">Popularity</span><span class=\"val\">${movieData.popularity}</span></p>\n              <p class=\"title\"><span class=\"categ\">Original Title</span><span class=\"val\">${movieData.title}</span></p>\n              <p><span class=\"categ\">Genre</span><span class=\"val\">${movieData.genres}</span></p>\n              \n              <div class=\"abt\">\n              <p>ABOUT</p>\n              <p>${movieData.overview}</p>\n              </div>\n              <div class=\"button-div\">\n                <button class=\"modal-button\">ADD TO WATCHED</button>\n                <button class=\"modal-button\">ADD TO QUEUE</button>\n              </div>\n              </div>\n              </div>\n            `;\n            showModal(content);\n          } catch (error) {\n            console.error('Error fetching movie information:', error);\n          } finally {\n            hideLoader();\n          }\n        } else {\n          console.error('Movie ID is undefined.');\n          hideLoader();\n        }\n      }\n    }\n  }\n\n  return {\n    showLoader,\n    hideLoader,\n    showModal,\n    hideModal,\n  };\n})();\n\ndocument.addEventListener('DOMContentLoaded', function () {});\n"],"names":["$bpxeT","parcelRequire","$40873ecf3c18e122$var$BASE_URL","$40873ecf3c18e122$var$API_KEY","movieModal","document","getElementById","closeModalBtn","modalContent","loaderContainer","fetchMovieDataFromAPI","movieId","_fetchMovieDataFromAPI","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","apiEndpoint","response","data","concat","fetch","_ctx","sent","ok","Error","json","t0","message","showLoader","style","display","hideLoader","showModal","content","innerHTML","appendChild","hideModal","_openModal","event","targetMovieLink","movieData","preventDefault","target","nodeName","id","console","log","createElement","poster_path","title","vote","popularity","genres","overview","error","addEventListener","window","key"],"version":3,"file":"index.c09828d7.js.map"}