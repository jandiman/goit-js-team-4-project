{"mappings":"CAGoB,WAClB,MAAMA,EAAaC,SAASC,eAAe,cACrCC,EAAgBF,SAASC,eAAe,iBACxCE,EAAeH,SAASC,eAAe,gBACvCG,EAAkBJ,SAASC,eAAe,mBAsBhD,SAASI,IACPD,EAAgBE,MAAMC,QAAU,M,CAGlC,SAASC,IACPJ,EAAgBE,MAAMC,QAAU,M,CAGlC,SAASE,EAAUC,GACjBF,IACAL,EAAaQ,UAAY,GACzBR,EAAaS,YAAYF,GACzBX,EAAWO,MAAMC,QAAU,O,CAG7B,SAASM,IACPd,EAAWO,MAAMC,QAAU,M,CArCXP,SAASC,eAAe,WAEhCa,iBAAiB,SAoD3BC,eAAyBC,GAGvB,GAFAA,EAAMC,iBAEwB,QAA1BD,EAAME,OAAOC,SAAoB,CACnCd,IAEA,MAAMe,EAAkBJ,EAAME,OAAOG,GAErC,GADAC,QAAQC,IAAIH,GACRA,EAAiB,CACnB,MAAMI,EAAUJ,EAEhB,GAAII,EACF,IACE,MAAMC,QA/DhBV,eAAqCS,GACnC,MAAME,EAAc,sCAAqBF,6CAEzC,IACE,MAAMG,QAAiBC,MAAMF,GAE7B,IAAKC,EAASE,GACZ,MAAM,IAAIC,MAAM,qCAAqCN,KAIvD,aADmBG,EAASI,M,CAE5B,MAAOC,GACP,MAAM,IAAIF,MAAM,8BAA8BE,EAAMC,U,EAkDtBC,CAAsBV,GACxCd,EAAUV,SAASmC,cAAc,OACvCzB,EAAQC,UAAY,2HAEuBc,EAAUW,qBAAqBX,EAAUY,2IAGnDZ,EAAUY,0FACsBZ,EAAUa,4FACbb,EAAUc,oHACQd,EAAUY,wFACjCZ,EAAUe,oHAI5Df,EAAUgB,uSASjBhC,EAAUC,E,CACV,MAAOsB,GACPV,QAAQU,MAAM,oCAAqCA,E,CACpD,QACCxB,G,MAGFc,QAAQU,MAAM,0BACdxB,G,MA3DRN,EAAcY,iBAAiB,QAASD,GAExC6B,OAAO5B,iBAAiB,SAAS,SAAUE,GACrCA,EAAME,SAAWnB,GACnBc,G,IAIJ6B,OAAO5B,iBAAiB,WAAW,SAAUE,GACzB,WAAdA,EAAM2B,KACR9B,G,IAvDc,GAsHpBb,SAASc,iBAAiB,oBAAoB,WAAY","sources":["src/js/modal.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'df3d71dc2c14b1899746da6d2afcfb5b';\n\nconst modalModule = (function () {\n  const movieModal = document.getElementById('movieModal');\n  const closeModalBtn = document.getElementById('closeModalBtn');\n  const modalContent = document.getElementById('modalContent');\n  const loaderContainer = document.getElementById('loaderContainer');\n  const contentEl = document.getElementById('content');\n\n  contentEl.addEventListener('click', openModal);\n\n  async function fetchMovieDataFromAPI(movieId) {\n    const apiEndpoint = `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`;\n\n    try {\n      const response = await fetch(apiEndpoint);\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch movie data for ID ${movieId}`);\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      throw new Error(`Error fetching movie data: ${error.message}`);\n    }\n  }\n\n  function showLoader() {\n    loaderContainer.style.display = 'flex';\n  }\n\n  function hideLoader() {\n    loaderContainer.style.display = 'none';\n  }\n\n  function showModal(content) {\n    hideLoader();\n    modalContent.innerHTML = '';\n    modalContent.appendChild(content);\n    movieModal.style.display = 'block';\n  }\n\n  function hideModal() {\n    movieModal.style.display = 'none';\n  }\n\n  closeModalBtn.addEventListener('click', hideModal);\n\n  window.addEventListener('click', function (event) {\n    if (event.target === movieModal) {\n      hideModal();\n    }\n  });\n\n  window.addEventListener('keydown', function (event) {\n    if (event.key === 'Escape') {\n      hideModal();\n    }\n  });\n\n  async function openModal(event) {\n    event.preventDefault();\n\n    if (event.target.nodeName === 'IMG') {\n      showLoader();\n\n      const targetMovieLink = event.target.id;\n      console.log(targetMovieLink);\n      if (targetMovieLink) {\n        const movieId = targetMovieLink;\n\n        if (movieId) {\n          try {\n            const movieData = await fetchMovieDataFromAPI(movieId);\n            const content = document.createElement('div');\n            content.innerHTML = `<div class=\"modal-popup\">\n            <div class=\"movie-poster\">\n            <img src=\"https://image.tmdb.org/t/p/w500${movieData.poster_path}\" alt=\"${movieData.title}\" class=\"modal-poster\" />\n            </div>\n            <div class=\"movie-details\">\n              <h2 class=\"title main-title\">${movieData.title}</h2>\n              <p><span class=\"categ\">Vote / Votes </span><span class=\"val\">${movieData.vote}</span></p>\n              <p><span class=\"categ\">Popularity</span><span class=\"val\">${movieData.popularity}</span></p>\n              <p class=\"title\"><span class=\"categ\">Original Title</span><span class=\"val\">${movieData.title}</span></p>\n              <p><span class=\"categ\">Genre</span><span class=\"val\">${movieData.genres}</span></p>\n              \n              <div class=\"abt\">\n              <p>ABOUT</p>\n              <p>${movieData.overview}</p>\n              </div>\n              <div class=\"button-div\">\n                <button class=\"modal-button\">ADD TO WATCHED</button>\n                <button class=\"modal-button\">ADD TO QUEUE</button>\n              </div>\n              </div>\n              </div>\n            `;\n            showModal(content);\n          } catch (error) {\n            console.error('Error fetching movie information:', error);\n          } finally {\n            hideLoader();\n          }\n        } else {\n          console.error('Movie ID is undefined.');\n          hideLoader();\n        }\n      }\n    }\n  }\n\n  return {\n    showLoader,\n    hideLoader,\n    showModal,\n    hideModal,\n  };\n})();\n\ndocument.addEventListener('DOMContentLoaded', function () {});\n"],"names":["movieModal","document","getElementById","closeModalBtn","modalContent","loaderContainer","showLoader","style","display","hideLoader","showModal","content","innerHTML","appendChild","hideModal","addEventListener","async","event","preventDefault","target","nodeName","targetMovieLink","id","console","log","movieId","movieData","apiEndpoint","response","fetch","ok","Error","json","error","message","fetchMovieDataFromAPI","createElement","poster_path","title","vote","popularity","genres","overview","window","key"],"version":3,"file":"index.cc226aeb.js.map"}